<!DOCTYPE>
<html>
  <head>
    <title>TopPot Scout!</title>
  </head>
  <body>
    <header>
      <h1>Welcome to TopPot Scout</h1>
    </header>
    <section>
      <h2>About Me</h2>
      <p>Looking to start a new TopPot franchise in a new location? This simple program will estimate your sales, and how successful your location will be.</p>
      <p>Please input the required information stated below to see the outcome.</p>
    </section>
    <section>
      <h3>TopPot Scouting Tool</h3>
      <p>Input your information below:</p>
      <input id="location" type="text" role="textbox" value="Enter Location Name"/>
      <input id="min-traffic" type="text" role="textbox" value="Enter min traffic" />
      <input id="max-traffic" type="text" role="textbox" value="Enter max traffic" />
      <button id="submit">Submit</button>      
    </section> 
    <section>
      <h3>Projections for your Location</h3>
      <p>Below is the information we've gathered to evaluate how your potential TopPot store will operate in your location.</p>
    </section> 
      <script>  
        var tops = [];
        function Store (name, percentEntering, numOrdered, min, max) {
          this.percentEntering          = percentEntering;
          this.numOrdered               = numOrdered;
          this.name                     = name;
      // min and max hourly traffic
          this.min                      = min;
          this.max                      = max;
      //returns a random number of donuts for ay given hour
          this.hourlyDonuts             = function() {
            return this.min + Math.ceil(Math.random() * (this.max - this.min)) * percentEntering * numOrdered;
          };
      // random number of donuts in a given day 
          this.randomDay = function () {
            var total = 0;
            for (var i = 0; i < 77; i++) {
              var eachHour = this.hourlyDonuts();
              total += eachHour;
            }
            console.log("Total " + this.name + " store sales in a week: " + Math.floor(total));
            var dayAverage    = total / 7;
            var hourlyAverage  = dayAverage / 77;

            console.log("The average number of donuts sold a day will be " + Math.floor(dayAverage) + ", or " + Math.floor(this.hourlyDonuts()) + " an hour");
          };
        }
          

        tops.push(new Store("Downtown",          0.1,  4,   80,   220));
        tops.push(new Store ("Capitol Hill",     0.45, 2,   4,    45));
        tops.push(new Store ("South Lake Union", 0.05, 6,   180,  250));
        tops.push(new Store("WedgeWood",         0.2,  1.5, 20,   60));
        tops.push(new Store ("Ballard",          0.33, 1,   25,   175));

        for(i in tops) {
          tops[i].randomDay();
        }
        // Using the average of the data from the stores above, we created a model to take user input to estimate a possible locations sales
        // 

        var scoutLocation = new Store(document.getElementById('location'), .226, 2.9, document.getElementById('min-traffic'), document.getElementById('max-traffic') );

        scoutLocation.randomDay();

      </script>

    </body>
</html>
